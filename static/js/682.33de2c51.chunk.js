"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[682],{354:(t,e,s)=>{s.d(e,{A:()=>n});const a=s.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",c=s.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var r=s(579);const n=()=>(0,r.jsxs)("div",{className:"app__banner",children:[(0,r.jsx)("img",{src:a,alt:"Avengers"}),(0,r.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,r.jsx)("br",{}),"Stay tuned!"]}),(0,r.jsx)("img",{src:c,alt:"Avengers logo"})]})},425:(t,e,s)=>{s.d(e,{A:()=>r});const a=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=s(579);const r=()=>(0,c.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:a,alt:"Error"})},637:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var a=s(591),c=s(43),r=s(475),n=s(238),o=s(897),i=s(502),l=s(425),u=s(579);const d=(t,e,s)=>{switch(t){case"waiting":return(0,u.jsx)(i.A,{});case"loading":return s?(0,u.jsx)(e,{}):(0,u.jsx)(i.A,{});case"confirmed":return(0,u.jsx)(e,{});case"error":return(0,u.jsx)(l.A,{});default:throw new Error("Unexpected process state")}},m=()=>{const[t,e]=(0,c.useState)([]),[s,a]=(0,c.useState)(!1),[i,l]=(0,c.useState)(0),[m,p]=(0,c.useState)(!1),{loading:h,error:g,getAllComics:f,process:b,setProcess:v}=(0,o.A)();(0,c.useEffect)((()=>{y(i,!0)}),[]);const y=(t,e)=>{a(!e),f(t).then(x).then((()=>v("confirmed")))},x=s=>{let c=!1;s.length<8&&(c=!0),e([...t,...s]),a(!1),l(i+8),p(c)};return(0,u.jsxs)("div",{className:"comics__list",children:[d(b,(()=>function(t){const e=t.map((t=>(0,u.jsx)("li",{className:"comics__item",children:(0,u.jsxs)(r.N_,{to:"/comics/".concat(t.id),children:[(0,u.jsx)("img",{src:t.thumbnail,alt:t.title,className:"comics__item-img"}),(0,u.jsx)("div",{className:"comics__item-name",children:t.title}),(0,u.jsx)("div",{className:"comics__item-price",children:t.price})]})},(0,n.A)())));return(0,u.jsx)("ul",{className:"comics__grid",children:e})}(t)),s),(0,u.jsx)("button",{disabled:s,style:{display:m?"none":"block"},className:"button button__main button__long",onClick:()=>y(i),children:(0,u.jsx)("div",{className:"inner",children:"load more"})})]})};var p=s(354);const h=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.m,{children:[(0,u.jsx)("meta",{name:"description",content:"Page with list of our comic"}),(0,u.jsx)("title",{children:"Commics Page"})]}),(0,u.jsx)(p.A,{}),(0,u.jsx)(m,{})]})},897:(t,e,s)=>{s.d(e,{A:()=>c});var a=s(43);const c=()=>{const{request:t,clearError:e,process:s,setProcess:c}=(()=>{const[t,e]=(0,a.useState)("waiting");return{request:(0,a.useCallback)((async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};try{const r=await fetch(t,{method:s,body:a,headers:c});if(!r.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(r.status));const n=await r.json();return e("confirmed"),n}catch(r){throw e("error"),r}}),[]),clearError:(0,a.useCallback)((()=>{e("loading")}),[]),process:t,setProcess:e}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=93f100f32a709b185b53e61657e81944",o=t=>({id:t.id,name:t.name,description:t.description?"".concat(t.description.slice(0,210),"..."):"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}),i=t=>{var e;return{id:t.id,title:t.title,description:t.description||"There is no description",pageCount:t.pageCount?"".concat(t.pageCount," p."):"No information about the number of pages",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:(null===(e=t.textObjects[0])||void 0===e?void 0:e.language)||"en-us",price:t.prices[0].price?"".concat(t.prices[0].price,"$"):"not available"}};return{clearError:e,process:s,setProcess:c,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await t("".concat(r,"characters?limit=9&offset=").concat(e,"&").concat(n))).data.results.map(o)},getCharacter:async e=>{const s=await t("".concat(r,"characters/").concat(e,"?").concat(n));return o(s.data.results[0])},getCharacterByName:async e=>(await t("".concat(r,"characters?name=").concat(e,"&").concat(n))).data.results.map(o),getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t("".concat(r,"comics?orderBy=issueNumber&limit=8&offset=").concat(e,"&").concat(n))).data.results.map(i)},getComic:async e=>{const s=await t("".concat(r,"comics/").concat(e,"?").concat(n));return i(s.data.results[0])}}}},238:(t,e,s)=>{var a;s.d(e,{A:()=>d});var c=new Uint8Array(16);function r(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(c)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const o=function(t){return"string"===typeof t&&n.test(t)};for(var i=[],l=0;l<256;++l)i.push((l+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase();if(!o(s))throw TypeError("Stringified UUID is invalid");return s};const d=function(t,e,s){var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){s=s||0;for(var c=0;c<16;++c)e[s+c]=a[c];return e}return u(a)}}}]);
//# sourceMappingURL=682.33de2c51.chunk.js.map